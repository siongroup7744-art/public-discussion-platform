<!DOCTYPE html>
<html lang="bg">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞ –¥–∏—Å–∫—É—Å–∏–æ–Ω–Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞</title>
<style>
  body {
    font-family: Arial, sans-serif;
    background: #f5f7fa;
    margin: 20px;
    color: #333;
  }
  h1 {
    text-align: center;
    margin-bottom: 30px;
  }
  .discussion-container {
    max-width: 700px;
    margin: 0 auto;
    background: #fff;
    padding: 20px 30px;
    border-radius: 8px;
    box-shadow: 0 0 10px rgba(0,0,0,0.1);
  }
  .discussion {
    border-bottom: 1px solid #ddd;
    padding: 15px 0;
  }
  .discussion:last-child {
    border-bottom: none;
  }
  .discussion-header {
    cursor: pointer;
    display: flex;
    justify-content: space-between;
    align-items: center;
  }
  .discussion-title {
    font-weight: bold;
    font-size: 1.2em;
  }
  .toggle-arrow {
    font-size: 1.3em;
    transition: transform 0.3s ease;
  }
  .toggle-arrow.open {
    transform: rotate(90deg);
  }
  .discussion-content {
    max-height: 0;
    overflow: hidden;
    transition: max-height 0.4s ease, padding 0.3s ease;
    padding-left: 10px;
  }
  .discussion-content.open {
    padding-top: 15px;
    max-height: 500px; /* –¥–æ—Å—Ç–∞—Ç—ä—á–Ω–æ –≥–æ–ª—è–º–æ –∑–∞ —Å—ä–¥—ä—Ä–∂–∞–Ω–∏–µ—Ç–æ */
  }
  .vote-buttons {
    margin-top: 10px;
  }
  .vote-button {
    cursor: pointer;
    background: #eee;
    border: none;
    padding: 6px 12px;
    margin-right: 8px;
    font-size: 1.1em;
    border-radius: 5px;
    transition: background 0.3s ease;
  }
  .vote-button:hover {
    background: #ddd;
  }
  .vote-count {
    margin-left: 6px;
    font-weight: bold;
  }
  .comment-box {
    margin-top: 15px;
  }
  textarea {
    width: 100%;
    resize: vertical;
    min-height: 60px;
    padding: 8px;
    border-radius: 5px;
    border: 1px solid #ccc;
  }
  .btn-submit-comment {
    margin-top: 8px;
    padding: 8px 15px;
    border: none;
    background: #2874f0;
    color: white;
    font-weight: bold;
    border-radius: 5px;
    cursor: pointer;
  }
  .btn-submit-comment:hover {
    background: #005bb5;
  }
  .comments-list {
    margin-top: 15px;
    border-top: 1px solid #ccc;
    padding-top: 10px;
  }
  .comment-item {
    margin-bottom: 10px;
    background: #f0f4ff;
    padding: 10px;
    border-radius: 5px;
  }
</style>
</head>
<body>
  <h1>–ü—É–±–ª–∏—á–Ω–∞ –¥–∏—Å–∫—É—Å–∏–æ–Ω–Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞</h1>
  <div class="discussion-container">

    <div class="discussion" id="discussion1">
      <div class="discussion-header">
        <div class="discussion-title">–ü–æ–¥–æ–±—Ä—è–≤–∞–Ω–µ –Ω–∞ –≥—Ä–∞–¥—Å–∫–∞—Ç–∞ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞</div>
        <div class="toggle-arrow">&#9654;</div>
      </div>
      <div class="discussion-content">
        <p>–ò–º–∞—Ç–µ –ª–∏ –∏–¥–µ–∏ –∫–∞–∫ –¥–∞ –Ω–∞–ø—Ä–∞–≤–∏–º –≥—Ä–∞–¥–∞ –ø–æ-–¥–æ—Å—Ç—ä–ø–µ–Ω –∏ —É–¥–æ–±–µ–Ω –∑–∞ –≤—Å–∏—á–∫–∏?</p>
        <div class="vote-buttons">
          <button class="vote-button" data-discussion="1" data-vote="up">üëç <span class="vote-count" id="vote-up-1">0</span></button>
          <button class="vote-button" data-discussion="1" data-vote="down">üëé <span class="vote-count" id="vote-down-1">0</span></button>
        </div>
        <div class="comment-box">
          <textarea id="comment-input-1" placeholder="–î–æ–±–∞–≤–∏ –∫–æ–º–µ–Ω—Ç–∞—Ä..."></textarea>
          <button class="btn-submit-comment" data-discussion="1">–ò–∑–ø—Ä–∞—Ç–∏</button>
        </div>
        <div class="comments-list" id="comments-list-1"></div>
      </div>
    </div>

    <div class="discussion" id="discussion2">
      <div class="discussion-header">
        <div class="discussion-title">–ü–æ–¥–∫—Ä–µ–ø–∞ –∑–∞ –º–µ—Å—Ç–Ω–∏—è –±–∏–∑–Ω–µ—Å</div>
        <div class="toggle-arrow">&#9654;</div>
      </div>
      <div class="discussion-content">
        <p>–ö–∞–∫ –º–æ–∂–µ–º –¥–∞ –ø–æ–¥–ø–æ–º–æ–≥–Ω–µ–º –º–∞–ª–∫–∏—Ç–µ –∏ —Å—Ä–µ–¥–Ω–∏ –ø—Ä–µ–¥–ø—Ä–∏—è—Ç–∏—è –≤ –Ω–∞—à–∏—è —Ä–∞–π–æ–Ω?</p>
        <div class="vote-buttons">
          <button class="vote-button" data-discussion="2" data-vote="up">üëç <span class="vote-count" id="vote-up-2">0</span></button>
          <button class="vote-button" data-discussion="2" data-vote="down">üëé <span class="vote-count" id="vote-down-2">0</span></button>
        </div>
        <div class="comment-box">
          <textarea id="comment-input-2" placeholder="–î–æ–±–∞–≤–∏ –∫–æ–º–µ–Ω—Ç–∞—Ä..."></textarea>
          <button class="btn-submit-comment" data-discussion="2">–ò–∑–ø—Ä–∞—Ç–∏</button>
        </div>
        <div class="comments-list" id="comments-list-2"></div>
      </div>
    </div>

    <div class="discussion" id="discussion3">
      <div class="discussion-header">
        <div class="discussion-title">–û–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –∏ —Ä–∞–∑–≤–∏—Ç–∏–µ</div>
        <div class="toggle-arrow">&#9654;</div>
      </div>
      <div class="discussion-content">
        <p>–ö–∞–∫–≤–∏ –∏–Ω–∏—Ü–∏–∞—Ç–∏–≤–∏ –∏ –ø—Ä–æ–≥—Ä–∞–º–∏ –±–∏—Ö–∞ –ø–æ–¥–æ–±—Ä–∏–ª–∏ –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ—Ç–æ –≤ —Ä–µ–≥–∏–æ–Ω–∞?</p>
        <div class="vote-buttons">
          <button class="vote-button" data-discussion="3" data-vote="up">üëç <span class="vote-count" id="vote-up-3">0</span></button>
          <button class="vote-button" data-discussion="3" data-vote="down">üëé <span class="vote-count" id="vote-down-3">0</span></button>
        </div>
        <div class="comment-box">
          <textarea id="comment-input-3" placeholder="–î–æ–±–∞–≤–∏ –∫–æ–º–µ–Ω—Ç–∞—Ä..."></textarea>
          <button class="btn-submit-comment" data-discussion="3">–ò–∑–ø—Ä–∞—Ç–∏</button>
        </div>
        <div class="comments-list" id="comments-list-3"></div>
      </div>
    </div>

  </div>

<script>
  // –§—É–Ω–∫—Ü–∏—è –∑–∞ –æ—Ç–≤–∞—Ä—è–Ω–µ –∏ –∑–∞—Ç–≤–∞—Ä—è–Ω–µ –Ω–∞ –¥–∏—Å–∫—É—Å–∏—è—Ç–∞
  document.querySelectorAll('.discussion-header').forEach(header => {
    header.addEventListener('click', () => {
      const content = header.nextElementSibling;
      const arrow = header.querySelector('.toggle-arrow');
      if (content.classList.contains('open')) {
        content.classList.remove('open');
        arrow.classList.remove('open');
      } else {
        content.classList.add('open');
        arrow.classList.add('open');
      }
    });
  });

  // –ì–ª–∞—Å—É–≤–∞–Ω–µ
  const votes = {
    1: { up: 0, down: 0 },
    2: { up: 0, down: 0 },
    3: { up: 0, down: 0 }
  };

  document.querySelectorAll('.vote-button').forEach(btn => {
    btn.addEventListener('click', () => {
      const discId = btn.getAttribute('data-discussion');
      const voteType = btn.getAttribute('data-vote');
      votes[discId][voteType]++;
      document.getElementById(`vote-${voteType}-${discId}`).textContent = votes[discId][voteType];
    });
  });

  // –ö–æ–º–µ–Ω—Ç–∞—Ä–∏
  const comments = {
    1: [],
    2: [],
    3: []
  };

  document.querySelectorAll('.btn-submit-comment').forEach(btn => {
    btn.addEventListener('click', () => {
      const discId = btn.getAttribute('data-discussion');
      const textarea = document.getElementById(`comment-input-${discId}`);
      const commentText = textarea.value.trim();
      if (commentText.length === 0) {
        alert('–ú–æ–ª—è, –≤—ä–≤–µ–¥–µ—Ç–µ –∫–æ–º–µ–Ω—Ç–∞—Ä.');
        return;
      }
      comments[discId].push(commentText);
      textarea.value = '';
      renderComments(discId);
    });
  });

  function renderComments(discId) {
    const list = document.getElementById(`comments-list-${discId}`);
    list.innerHTML = '';
    comments[discId].forEach(comment => {
      const div = document.createElement('div');
      div.className = 'comment-item';
      div.textContent = comment;
      list.appendChild(div);
    });
  }
</script>
</body>
</html>
